<header id="header">
  <img id="logo" src="/logo-blue-black.svg">
  <div class="header-right">
    <span id="username"><%= current_user.username %></span>&nbsp;|&nbsp;<span id="sign-out">sign out</span>
  </div>
</header>

<div class="page main-page">
  <ul id="top-level">
    <% if @user == current_user %>
      <li>
        <input id="new-list-handle-input" type="text" name="handle" placeholder="new list handle">
        <span id="new-list-button">Create New List</span>
        <script>
          (function (newListButton) {
            newListButton.addEventListener('click', function () {
              var handle = document.getElementById('new-list-handle-input').value;
              if (!handle) {
                alert('New lists need handles.');
              } else {
                window.location.assign('/list/new?handle=' + handle);
              }
            });
          })(document.getElementById('new-list-button'));
        </script>
      </li>
    <% end %>
    <% @lists.each do |list| %>
      <li><a href="<%= list_page_path(username: @user.username, handle: list.handle) %>"><%= list.title %></a></li>
    <% end %>
  </ul>
</div>
